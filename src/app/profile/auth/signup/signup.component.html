<h1>Join OpenSourceMusic</h1>

<form [formGroup]="form" (ngSubmit)="submit()">
    <h2>Create your personal account</h2>

    <div class="form-group">
        <label for="username">Username</label>
        <input formControlName="username" class="form-control" id="username" type="text" autofocus>
        <p class="note">This will be your username. You can add your name and surname later.</p>
        <div class="form-invalid-text"
             *ngIf="form.get('username').invalid&&form.get('username').touched">
            <span *ngIf="form.get('username')['errors']['required']">Username is required</span>
            <span *ngIf="!form.get('username')['errors']['required'] && form.get('username')['errors']['isLoginUnique']">Such a username exists, try another one</span>
            <span *ngIf="!form.get('username')['errors']['required'] && !form.get('username')['errors']['isLoginUnique'] && form.get('username')['errors']['pattern']">Only English letters, '_' and '.' are allowed</span>
        </div>
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input formControlName="email" class="form-control" id="email" type="email" placeholder="user@example.com">
        <p class="note">Email for notifications and account recovery.</p>
        <div class="form-invalid-text"
             *ngIf="form.get('email').invalid&&form.get('email').touched">
            <span *ngIf="form.get('email')['errors']['email']">Invalid email format</span>
            <span *ngIf="!form.get('email')['errors']['email'] && form.get('email')['errors']['isLoginUnique']">Such a email exists, try another one</span>
        </div>
    </div>
    <div class="form-group">
        <label for="password">Password</label>
        <input formControlName="password" class="form-control" id="password" type="password">
        <p class="note">Create a password from the numbers and letters of the upper and lower case.</p>
        <div class="form-invalid-text"
             *ngIf="form.get('password').invalid&&form.get('password').touched">
            <span>Password must contain at least one letter in lower case, one letter in uppercase and one digit.
            The minimum password length is 9 characters.</span>
        </div>
    </div>

    <button [disabled]="form.invalid" type="submit" class="btn-submit" id="signup_button">
        Create an account
    </button>
</form>